(function(a){var b=a.telerik;b.autocomplete=function(c,d){this.element=c;this.$element=a(c);this.$text=this.$element;a.extend(this,d);a(document).bind("mousedown",a.proxy(function(h){var f=this.$dropDown;var g=f&&f.parent().length>0;if(g&&!a.contains(this.element,h.target)&&!a.contains(f.parent()[0],h.target)){b.dropDownList.close(this)}},this));this.$element.bind({focus:a.proxy(function(f){f.stopPropagation()},this),change:a.proxy(function(f){if(this.onChange){this.onChange(f)}},this),keydown:a.proxy(this.keydown,this),keypress:a.proxy(function(g){var f=g.keyCode||g.charCode;if(f==0||a.inArray(f,b.dropDownList.keycodes)!=-1){return true}this.resetTimer()},this),selectOnDataBinding:a.proxy(function(g){var f=this.highlightFirst?this.$items.first():null;if(f){f.addClass("t-state-selected")}},this)});b.bind(this,{dataBinding:this.onDataBinding,dataBound:this.onDataBound,error:this.onError,open:this.onOpen,close:this.onClose,load:this.onLoad})};b.autocomplete.prototype=new b.combobox;a.extend(b.autocomplete.prototype,{select:function(k){var j=this.highlight(k);if(j==-1){return}var d=this.filteredDataIndexes;var f=(d&&d.length)>0?d[j]:j;var h=this.data[f];var c=h;if(this.multiple){var e=this.$element;var i=this.separator;var g=b.combobox.valueArrayIndex(e[0],i);c=e.val().split(i);c[g]=h;c=c.join(i)+(g==c.length-1?i:"")}this.text(c)},value:function(){return this.text.apply(this,arguments)},showBusy:function(){this.busyTimeout=setTimeout(a.proxy(function(){this.$element.addClass("t-loading")},this),100)},hideBusy:function(){clearTimeout(this.busyTimeout);this.$element.removeClass("t-loading")},keydown:function(l){var h=l.keyCode||l.which;this.lastKeyCode=h;if(!l.shiftKey&&h>36&&h<41&&h!=37&&h!=39){l.preventDefault();if(this.isOpened()){if(!this.$items){this.dropDown()}var d=this.$items;var i=d.filter(".t-state-selected:first");var c=[];if(h==38){var g=i.prev();c=g.length?g:d.last()}else{if(h==40){var j=i.next();c=j.length?j:d.first()}}if(c.length){var m=c[0];this.highlight(m);this.scrollTo(m);b.combobox.autoFill(this,c.text())}}}if(h==8||h==46){var f=this.$element;if(f.val()!=""){this.resetTimer()}setTimeout(a.proxy(function(){if(f.val()==""){b.dropDownList.close(this)}},this),0)}if(h==13){if(this.$items.length){var k=this.$items.filter(".t-state-selected:first");if(k.length>0){this.select(k[0]);b.dropDownList.close(this);b.combobox.moveToEnd(this.element)}}}if(h==27||h==9){b.dropDownList.close(this)}}});a.fn.tAutoComplete=function(c){return b.create(this,{name:"tAutoComplete",init:function(d,e){return new b.autocomplete(d,e)},options:c})};a.fn.tAutoComplete.defaults={effects:b.fx.slide.defaults(),filter:1,delay:200,minChars:1,cache:true,autoFill:false,highlightFirst:false,queryString:{text:"text"},multiple:false,separator:", ",}})(jQuery);