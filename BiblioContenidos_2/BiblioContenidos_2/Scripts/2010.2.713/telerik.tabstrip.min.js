(function(a){var b=a.telerik;a.extend(b,{tabstrip:function(e,f){this.element=e;a.extend(this,f);a(".t-tabstrip > .t-reset > .t-item:not(.t-state-disabled)",e).live("mouseenter",b.hover).live("mouseleave",b.leave).live(f.activateEvent,b.delegate(this,this._click));a("> .t-reset > .t-item.t-state-disabled > .t-link",e).click(b.preventDefault);b.bind(this,{select:this.onSelect,error:this.onError,load:this.onLoad});var c=a("li.t-state-active",e);var d=this.getContentElement(a("> .t-content",e),c.parent().children().index(c));if(d&&d.length>0&&d.children().length==0){this.activateTab(a(c[0]))}}});a.extend(b.tabstrip.prototype,{select:function(c){a(c).each(a.proxy(function(e,f){var d=a(f);if(d.hasClass("t-state-disabled")||d.hasClass("t-state-active")){return}this.activateTab(d)},this))},enable:function(c){a(c).each(function(){a(this).addClass("t-state-default").removeClass("t-state-disabled")})},disable:function(c){a(c).each(function(){a(this).removeClass("t-state-default").removeClass("t-state-active").addClass("t-state-disabled")})},_click:function(i,f){var g=a(f);var c=g.find(".t-link");var d=c.attr("href");var h=this.getContentElement(a("> .t-content",this.element),g.parent().children().index(g));if(g.hasClass("t-state-disabled")||g.hasClass("t-state-active")){i.preventDefault();return}if(b.trigger(this.element,"select",{item:g[0],contentElement:h})){i.preventDefault()}if((d&&(d.charAt(d.length-1)=="#"||d.indexOf("#"+this.element.id+"-")!=-1))||(a(h).length>0&&a(h).children().length==0)){i.preventDefault()}else{return}if(this.activateTab(g)){i.preventDefault()}},activateTab:function(d){var f=d.parent().children().removeClass("t-state-active").addClass("t-state-default").index(d);d.removeClass("t-state-default").addClass("t-state-active");var h=d.parent().parent().find("> .t-content");if(h.length>0){var e=h.filter(".t-state-active");var j=this.getContentElement(h,f);var g=this;if(!j){e.removeClass("t-state-active");b.fx.rewind(g.effects,e,{});return false}var c=a.trim(j.html()).length==0;var i=function(){j.addClass("t-state-active");b.fx.play(g.effects,j,{})};e.removeClass("t-state-active").stop(false,true);b.fx.rewind(g.effects,e,{},function(){if(d.hasClass("t-state-active")){if(!c){i()}else{if(c){g.ajaxRequest(d,j,function(){if(d.hasClass("t-state-active")){i()}})}}}});return true}return false},getContentElement:function(g,f){var d=new RegExp("-"+(f+1)+"$");for(var c=0,e=g.length;c<e;c++){if(d.test(a(g[c]).attr("id"))){return a(g[c])}}},ajaxRequest:function(d,c,i){var h=this;var g=null;var f=setTimeout(function(){g=a('<span class="t-icon t-loading"></span>').prependTo(d.find(".t-link"))},100);var e={};a.ajax({type:"GET",cache:false,url:d.find(".t-link").attr("href"),dataType:"html",data:e,error:a.proxy(function(k,j){if(b.ajaxError(this.element,"error",k,j)){return}},this),complete:function(){clearTimeout(f);if(g!==null){g.remove()}},success:a.proxy(function(j,l){c.html(j);var k=d.find(".t-link");k.data("ContentUrl",k.attr("href")).attr("href","#");if(i){i.call(h,c)}},this)})}});a.fn.tTabStrip=function(c){return b.create(this,{name:"tTabStrip",init:function(d,e){return new b.tabstrip(d,e)},options:c})};a.fn.tTabStrip.defaults={activateEvent:"click",effects:b.fx.toggle.defaults()}})(jQuery);